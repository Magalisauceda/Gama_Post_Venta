<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GAMA Post Venta</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #fffaf0;
      color: #3b2f2a;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      background-color: #b98b3b;
      color: white;
      padding: 15px;
      font-size: 1.5em;
      font-weight: bold;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    main {
      padding: 30px;
    }
    .question-box {
      background-color: #f2eadf;
      border: 2px solid #b66b3a;
      border-radius: 20px;
      padding: 25px;
      margin: 20px auto;
      max-width: 700px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    button {
      background-color: #b66b3a;
      color: white;
      border: none;
      border-radius: 10px;
      padding: 10px 20px;
      margin: 10px;
      cursor: pointer;
      font-size: 1em;
      transition: 0.3s;
    }
    button:hover {
      background-color: #b98b3b;
    }
    .hidden {
      display: none;
    }
    #contador {
      font-size: 1.5em;
      color: #b66b3a;
      margin: 20px;
    }
    .popup {
      background: rgba(255,255,255,0.95);
      border: 2px solid #b98b3b;
      border-radius: 20px;
      padding: 25px;
      width: 300px;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      display: none;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <header>ðŸŒ³ GAMA Post Venta - MÃ³dulo 4</header>

  <main>
    <p><strong>Magali SaucedaÂ® | Mentora Inmobiliaria | Fundadora de RaÃ­ces de Ã‰xito</strong></p>
    <p>Vender con alma, formar con propÃ³sito</p>
    
    <div id="contador">Tiempo: 30</div>

    <div class="question-box" id="pregunta1">
      <h2>Â¿QuÃ© significa NPS?</h2>
      <button onclick="verificarRespuesta(1, 'a')">a) Net Promoter Score (mide satisfacciÃ³n del cliente)</button><br>
      <button onclick="verificarRespuesta(1, 'b')">b) Nuevo Plan de Servicio</button><br>
      <button onclick="verificarRespuesta(1, 'c')">c) Nivel de Productividad Semanal</button>
    </div>

    <div class="question-box hidden" id="pregunta2">
      <h2>Â¿QuÃ© es un pipeline en ventas?</h2>
      <button onclick="verificarRespuesta(2, 'a')">a) Canal de distribuciÃ³n fÃ­sico</button><br>
      <button onclick="verificarRespuesta(2, 'b')">b) Sistema para dar seguimiento a prospectos y clientes</button><br>
      <button onclick="verificarRespuesta(2, 'c')">c) Base de datos legal</button>
    </div>

    <div class="question-box hidden" id="final">
      <h2>ðŸŽ‰ Â¡Felicidades!</h2>
      <p>Has completado el bloque post-venta. Â¡Excelente trabajo!</p>
      <audio id="aplausos" src="APLAUSOS.mp3"></audio>
    </div>

    <div class="popup" id="popup">
      <p id="popupText"></p>
      <button onclick="cerrarPopup()">Continuar</button>
    </div>

  </main>

  <script>
    let preguntaActual = 1;
    let tiempo = 30;
    let cronometro = setInterval(actualizarContador, 1000);

    const sonidos = {
      bien: new Audio("BIEN.mp3"),
      mal: new Audio("NO.mp3"),
      pop: new Audio("POP.mp3"),
      tiktok: new Audio("TIKTACK.mp3")
    };

    sonidos.tiktok.loop = true;
    sonidos.tiktok.volume = 0.3;
    sonidos.tiktok.play();

    function actualizarContador() {
      const contador = document.getElementById("contador");
      tiempo--;
      contador.textContent = "Tiempo: " + tiempo;
      if (tiempo <= 0) {
        clearInterval(cronometro);
        mostrarPopup("â° Â¡Tiempo agotado! IntÃ©ntalo otra vez.", false);
      }
    }

    function verificarRespuesta(num, opcion) {
      sonidos.pop.play();
      if ((num === 1 && opcion === 'a') || (num === 2 && opcion === 'b')) {
        sonidos.bien.play();
        mostrarPopup("âœ… Â¡Correcto! Muy bien.", true);
        if (num === 2) {
          document.getElementById("pregunta2").classList.add("hidden");
          document.getElementById("final").classList.remove("hidden");
          document.getElementById("aplausos").play();
        } else {
          document.getElementById("pregunta1").classList.add("hidden");
          document.getElementById("pregunta2").classList.remove("hidden");
        }
      } else {
        sonidos.mal.play();
        mostrarPopup("âŒ Oh no. Vuelve a intentarlo.", false);
      }
    }

    function mostrarPopup(texto, correcto) {
      const popup = document.getElementById("popup");
      const popupText = document.getElementById("popupText");
      popupText.textContent = texto;
      popup.style.display = "block";
    }

    function cerrarPopup() {
      document.getElementById("popup").style.display = "none";
    }
  </script>
</body>
</html>
