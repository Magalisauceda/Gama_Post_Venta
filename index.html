<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>üå≥ GAMA Post Venta ‚Äî Ra√≠ces de √âxito</title>
<style>
  :root {
    --oro: #b98b3b;
    --cobre: #b66b3a;
    --beige: #f2eadf;
    --marfil: #fffaf0;
    --verde: #2ecc71;
    --rojo: #e74c3c;
    font-family: "Segoe UI", Roboto, Arial, sans-serif;
  }
  body {
    margin: 0;
    background: var(--beige);
    color: #3b2f2a;
  }
  .wrap {
    max-width: 900px;
    margin: 20px auto;
    padding: 20px;
  }
  h1, h2 {
    color: var(--oro);
  }
  .card {
    background: var(--marfil);
    border: 2px solid var(--cobre);
    border-radius: 12px;
    padding: 18px;
    margin-bottom: 16px;
  }
  button {
    background: var(--oro);
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: 10px 16px;
    cursor: pointer;
    font-weight: bold;
  }
  .opt-btn {
    display: block;
    width: 100%;
    margin: 6px 0;
    background: #fff;
    color: #3b2f2a;
    border: 2px solid var(--cobre);
    border-radius: 8px;
    padding: 10px;
    text-align: left;
    font-weight: 600;
  }
  .opt-btn:hover {
    background: var(--cobre);
    color: #fff;
  }
  .good { color: var(--verde); font-weight: bold; }
  .bad { color: var(--rojo); font-weight: bold; }
  .hidden { display: none; }
  .commission {
    border: 2px solid var(--cobre);
    border-radius: 8px;
    padding: 8px 12px;
    background: var(--marfil);
    font-weight: bold;
    display: inline-block;
  }
  .modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.4);
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .modal-card {
    background: white;
    border-radius: 10px;
    padding: 20px;
    width: 90%;
    max-width: 600px;
  }
</style>
</head>
<body>
<div class="wrap">

  <section id="intro" class="card">
    <h1>üå≥ Bienvenida a GAMA Post Venta</h1>
    <p>Simulador SPIN‚Ñ¢ ‚Äî Entrenamiento para asesoras inmobiliarias. Aprende a escuchar, comprender, resolver y cerrar con √©tica.</p>
    <p>Objetivo: responder correctamente todas las preguntas y conservar tu comisi√≥n.</p>
    <button id="startBtn">Iniciar Entrenamiento ‚ñ∂Ô∏è</button>
  </section>

  <section id="game" class="card hidden">
    <h2 id="phaseTitle">Fase 1 ‚Äî SPIN‚Ñ¢ Post Venta</h2>
    <p><b>Comisi√≥n:</b> <span id="commissionDisp" class="commission">$0</span></p>
    <div id="questionText" style="font-weight: bold; margin-top:10px;"></div>
    <div id="optionsWrap" style="margin-top:10px;"></div>
    <p id="feedbackArea" style="min-height:30px;margin-top:8px;"></p>
    <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;">
      <button id="nextBtn" disabled>Siguiente ‚û°Ô∏è</button>
      <span id="progressText" style="color:#555;"></span>
    </div>
  </section>

  <div id="finalModal" class="modal hidden">
    <div class="modal-card">
      <h2>üèÅ Resultado del Simulador</h2>
      <div id="finalSummary"></div>
      <div style="text-align:right;margin-top:10px;">
        <button id="restartBtn">Volver a Entrenar üîÅ</button>
      </div>
    </div>
  </div>

</div>

<script>
const TOTAL_COMMISSION = 100000;
const QUESTIONS = [
  {text:'¬øQu√© significa SPIN en ventas?', options:['Situaci√≥n, Problema, Implicaci√≥n, Necesidad','Saber, Planear, Invertir, Negociar','Sistema, Proceso, Inversi√≥n, Negocio'], correct:'Situaci√≥n, Problema, Implicaci√≥n, Necesidad'},
  {text:'¬øQu√© har√≠as si un cliente se queja por un retraso?', options:['Lo escuchas y das soluci√≥n','Lo ignoras','Culpas al banco'], correct:'Lo escuchas y das soluci√≥n'},
  {text:'¬øPor qu√© es importante documentar la entrega?', options:['Evita malentendidos y protege ambas partes','Solo para el archivo','Porque lo pide el cliente'], correct:'Evita malentendidos y protege ambas partes'},
  {text:'¬øQu√© pasa si no das seguimiento post venta?', options:['Pierdes confianza y futuras ventas','Nada','Ahorras tiempo'], correct:'Pierdes confianza y futuras ventas'},
  {text:'¬øQu√© tipo de preguntas te ayudan a descubrir necesidades?', options:['De implicaci√≥n y necesidad','De producto','De saludo'], correct:'De implicaci√≥n y necesidad'},
  {text:'¬øQu√© deber√≠as hacer si detectas un error en la escritura?', options:['Avisar y resolver con √©tica','Ocultarlo','Culpar al notario'], correct:'Avisar y resolver con √©tica'},
  {text:'¬øCu√°l es la meta principal de la post venta?', options:['Fidelizar y cuidar la reputaci√≥n','Vender otra casa','Ahorrar tiempo'], correct:'Fidelizar y cuidar la reputaci√≥n'},
  {text:'¬øQu√© actitud genera confianza en el cliente?', options:['Escuchar activamente','Hablar sin pausa','Prometer sin cumplir'], correct:'Escuchar activamente'},
  {text:'¬øQu√© beneficio obtienes al aplicar SPIN?', options:['Cierres m√°s √©ticos y clientes satisfechos','M√°s manipulaci√≥n','Evitar responsabilidad'], correct:'Cierres m√°s √©ticos y clientes satisfechos'},
  {text:'¬øQu√© hacer si fallas en tres respuestas seguidas?', options:['Pausar, reflexionar y retomar','Abandonar','Culpar al sistema'], correct:'Pausar, reflexionar y retomar'}
];

let state = {index:0,commission:0,perQ:0,score:0};

const intro=document.getElementById('intro');
const game=document.getElementById('game');
const startBtn=document.getElementById('startBtn');
const qText=document.getElementById('questionText');
const optWrap=document.getElementById('optionsWrap');
const feedback=document.getElementById('feedbackArea');
const nextBtn=document.getElementById('nextBtn');
const progress=document.getElementById('progressText');
const commissionDisp=document.getElementById('commissionDisp');
const finalModal=document.getElementById('finalModal');
const finalSummary=document.getElementById('finalSummary');
const restartBtn=document.getElementById('restartBtn');

startBtn.onclick=()=>{
  intro.classList.add('hidden');
  game.classList.remove('hidden');
  state.index=0;
  state.commission=0;
  state.perQ=Math.round(TOTAL_COMMISSION/QUESTIONS.length);
  renderQuestion();
};

function renderQuestion(){
  if(state.index>=QUESTIONS.length){finishGame();return;}
  const q=QUESTIONS[state.index];
  qText.textContent=q.text;
  optWrap.innerHTML='';
  feedback.textContent='';
  nextBtn.disabled=true;
  q.options.forEach(opt=>{
    const b=document.createElement('button');
    b.className='opt-btn';
    b.textContent=opt;
    b.onclick=()=>handleAnswer(opt,q);
    optWrap.appendChild(b);
  });
  progress.textContent=`Pregunta ${state.index+1} de ${QUESTIONS.length}`;
  commissionDisp.textContent=`$${state.commission.toLocaleString()}`;
}

function handleAnswer(opt,q){
  document.querySelectorAll('.opt-btn').forEach(b=>b.disabled=true);
  if(opt===q.correct){
    feedback.innerHTML=`<span class="good">‚úÖ Correcto</span>`;
    state.commission+=state.perQ;
  }else{
    feedback.innerHTML=`<span class="bad">‚ùå Incorrecto</span> ‚Äî Respuesta: <b>${q.correct}</b>`;
    state.commission=Math.max(0,state.commission-state.perQ);
  }
  commissionDisp.textContent=`$${state.commission.toLocaleString()}`;
  nextBtn.disabled=false;
}

nextBtn.onclick=()=>{state.index++;renderQuestion();};

function finishGame(){
  game.classList.add('hidden');
  finalModal.classList.remove('hidden');
  finalSummary.innerHTML=`<p>Comisi√≥n final: <b>$${state.commission.toLocaleString()}</b></p>`;
}

restartBtn.onclick=()=>{
  finalModal.classList.add('hidden');
  intro.classList.remove('hidden');
};
</script>
</body>
</html>
